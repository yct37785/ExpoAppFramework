# Expo App Framework
This project is a monorepo for building Expo apps with a shared framework.

Core functionality such as UI elements, hooks, constants, and utilities (collectively referred to as **components**) is centralized and reused across all Expo app projects.

By consolidating dependencies and common logic into a single framework, apps can be developed quickly without redefining the same building blocks.

*What is a monorepo: A monorepo is a single repository containing multiple distinct projects, with well-defined relationships.*

## End Goals
- Provide a ready-to-use template for quickly building new Expo apps.
- Maintain a shared framework of reusable components.
- Manage dependencies centrally (monorepo philosophy).
- Keep app projects lightweight by only adding app-specific code.
- Support native builds (`npx expo run:android` / `npx expo run:ios`) with Metro-powered hot reloading.

## Project Structure
### Overview
The monorepo is structured as follows:
```
root/
├── apps/
│   └── TemplateApp/      # example Expo app consuming the framework
├── packages/
│   └── Framework/        # core framework
│       ├── src/          # framework source code
│       └── ...
├── install.bat           # runs npm install in Monorepo root
└── package.json          # root deps + overrides
```

## High Level Overview
- **Framework**: Centralized shared components.
- **TemplateApp**: Example app + testbed for new features.
- **New apps**: Created by duplicating TemplateApp.
- **Dependencies**: Installed at root for shared packages, or per-app for unique needs.

## TemplateApp
**TemplateApp** demonstrates how to build an app on top of **Framework**.
It also serves as a testbed for developing and validating new shared components.

The project structure:
```
apps/TemplateApp
├── android/			# generated by native build (Android)
├── assets/
├── src/
│   ├── Screens/
│   │   ├── <ScreenName>.tsx  		# app-specific screen files
│   │   └── ScreenMap.ts      		# maps and registers screens with 
│   ├── App.tsx               		# root app entry point
│   ├── index.ts
│   └── ...
├── app.config.js             		# Expo app configuration
├── babel.config.js           		# Babel configuration
├── package.json              		# app-specific dependencies (if any)
├── run-native-build-android.bat    # helper script: build + run native Android app
└── tsconfig.json             		# TypeScript config
```

### Screens
**screen files (.tsx):** This is where you define your app specific screens (see sample screens).

**ScreenMap.ts:** This is where you define your screen mapping for registration with the navigator.

### Config
**android/:** Android native folder generated when running native build.

**app.config.js:** Expo configuration (name, slug, etc.).

**babel.config.js:** Babel setup.

**package.json:** Only add app-specific dependencies here. When running run-native-bu

**tsconfig.json:** TypeScript setup.

## Setup
### 1) Clone
````bash
git clone git@github.com:yct37785/ExpoAppFramework.git
cd ExpoAppFramework
````

*NOTE: for Windows users, keep the project in a short path (e.g., `C:/Dev`) to avoid hitting Windows max path length issues.*

### 2) Install dependencies
From the repo root:
````bash
./install.bat
````

### 3) Build & Run TemplateApp
Make sure your Android device is connected with ADB enabled.

Then run from within **apps/TemplateApp**:
````bash
./run-native-build.bat
````

This will:
- Generate the **android/** native folder.
- Build and install the app on your connected device.
- Start Metro bundler with hot reloading.

## Creating a new client app
### Create project
Simply duplicate **TemplateApp** under **apps/** and rename it:

```
apps/
├── TemplateApp
└── MyNewApp
```

### Update config
Edit the duplicated app’s configs:

**app.config.js**:
````json
{
  "expo": {
    "name": "MyNewApp",
    "slug": "MyNewApp",
    ...
  "android": {
    "name": "MyNewApp"
    "package": "com.anonymous.MyNewApp"
    ...
  }
}
````

**package.json**:
````json
{
  "name": "my-new-app"
  ...
}
````

### Build & run
Inside your new app folder:
````bash
./run-native-build.bat
````

Your app will launch on the connected device with Metro hot reloading enabled.

*NOTE: The monorepo .gitignore ignores all apps except **TemplateApp**. Track your client app in a separate repo if you need source control for it.*

## Development
### Adding New Shared Components
- Add the new component to the appropriate folder in **packages/Framework/src/**.
- Test and run them inside **TemplateApp**.

Install new shared dependencies from **root**:

````bash
npx expo install <package1> <package2>
````

*Note: when installing new packages use *`npx expo install` *to get the latest expo compatibile version of each package*

The packages will be installed to the **node_modules** in root as per monorepo philosophy.

### Adding App-Specific Components
To build new **app specific** components, simply install from your app project root.

````bash
cd app/MyNewApp
npx expo install <package1> <package2>
````
